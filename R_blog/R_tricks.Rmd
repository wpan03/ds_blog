<style type="text/css">
  body{
  font-size: 12pt;
}
</style>

As the title suggested, I want to share some ideas I learned from my experience of using R. The article has two parts:

-   Editor Tricks: this part discusses some keyboard shortcuts, rstudio tricks and rmarkdown tricks that might improve your productivity.

-   Good Package: this part talks about some packages I really like. As usual, suggesting package can be opinionated. Those packages might also be outdated as the field of data science moves swiftly. However, this reflects my best understanding now and I hope it can at least bring some new ideas to you.

## Editor Tricks

### Keyboard Shortcut

Mastering the keyboard shortcut for a editor or IDE can be very helpful for productivity but also very challenging. So I want to highlight some of them that I find particular helpful. I use a Mac and so I will write the shortcut's Mac version. But the command should work for Windows once you replace `cmd/control` with `crtl` and `Option` with `Alt`. A full list of keyboard shortcut can be found [here](https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts).

-   `control + shift + 0`: move R studio back to the usual four panes mode

-   `control + shift + 1`: maximize the R script, notebook, or R Markdown file you are working in

-   `cmd + shift + c`: comment / uncomment the current line

-   `cmd + option + i`: insert a R chunk in Rmarkdown

-   `cmd + shift + enter`: run the current code chunk in Rmarkdown

-   `cmd + shift + M`: insert the pipe operator `%>%` inside R code

-   `option + -`: insert `<-` inside R code

-   `control + shift + O`: open/close document outline

### Rstudio Tricks

These features discussed here are released in R studio 1.4. So to have these features, your R studio need to have at least version 1.4. The R studio blog did a great job to demonstrate these features and thus I will not repeat the demo here. Please do open the links in this section to check them out.

-   Visual Markdown Editing: with this feature, you can edit a markdown file in R studio and see the preview result for markdown immediately. Please see how to use it [here](https://rstudio.github.io/visual-markdown-editing/?_ga=2.100010397.2026635086.1628448164-1535628227.1622945320).

-   Citation Support: inserting citations in Rmarkdown becomes very easy with this feature. Check it out [here](https://blog.rstudio.com/2020/11/09/rstudio-1-4-preview-citations/).

-   Rainbow Parentheses: this feature gives color to the those nested parentheses in R. See [here](https://blog.rstudio.com/2020/11/04/rstudio-1-4-preview-rainbow-parentheses/).

-   Outline mode in R script: this feature allows you to better organize your `.R` script. See how it works [here](https://blog.rstudio.com/2020/12/02/rstudio-v1-4-preview-little-things/). The keyboard shortcut `control + shift + O` can also open outline mode in R script.

### Rmarkdown

From those features above, you might already feel that R Markdown is a very powerful and flexible document format. In fact, this document you are reading now is written with R Markdown ([Source Code](https://github.com/wpan03/ds_blog/blob/master/R_blog/R_tricks.Rmd)). The book [*R Markdown: The Definitive Guide*](https://bookdown.org/yihui/rmarkdown/) gives a detailed descriptions about many features of R markdown. I just want to highlight few sections I find particular helpful.

-   Markdown syntax: if you are not familiar with the basic syntax of markdown file, see [this section](https://bookdown.org/yihui/rmarkdown/markdown-syntax.html).

-   R chunk: one thing that is very powerful but can be confusing is the configuration of R chunk in R markdown. For example, you might see a code chunk below. What does `eval` and `echo` and many other possible words mean? [This section](https://bookdown.org/yihui/rmarkdown/r-code.html) discusses those.

```
{eval=TRUE, echo=TRUE}
x <- rnorm(100)
```

-   HTML Generation: there are many ways to customize the html file you generate from R markdown. Tricks I like include: generating table of content and displaying a dataframe beautifully. Check out [this section](https://bookdown.org/yihui/rmarkdown/html-document.html) for how to do those and many other things.

There are a lot of other features we don't highlight here, such as generating presentation and customizing the pdf output. Check out relevant sections in the book if you want to learn these.

## Good Packages

### Dplyr

Given the popularity of [dplyr](https://dplyr.tidyverse.org/) package, it seems unnecessary to advocate for it here. However, R provides several ways to manipulate dataframe, including the operation from Base R, `dplyr` and [data.table](https://cran.r-project.org/web/packages/data.table/vignettes/datatable-intro.html) and it might be hard to choose which one to master first. In addition to its intuitive syntax and nice integration of other parts of the [tidyverse ecosystem](https://www.tidyverse.org/), I want to give few other reasons to discuss why mastering `dplyr` first can be a good choice.

-   speed: usually, `data.table` excels at manipulating dataframe in a larger scale and having good computational performance. However, there is a package called [dtplyr](https://github.com/tidyverse/dtplyr) that allows you to use the intuitive syntax of `dplyr` and has almost same speed as `data.table` with very little change of syntax.

-   spark: if you want to use Spark in R, the package [sparklyr](https://spark.rstudio.com/) has very similar syntax to `dplyr`.

### Tidymodels

One thing I once found annoying about R is that you need to learn a lot of different packages and slightly different syntax to implement different machine learning models. In contrast, `scikit-learn` in Python provides a unified and consistent interface for different machine learning models. However, when I discover [tidymodels](https://www.tidymodels.org/) pacakge, I feel that this might no longer be the case. Note that there are other efforts like [caret](https://cran.r-project.org/web/packages/caret/vignettes/caret.html) to achieve the same thing. Personally, I find `tidymodels` easier to use. (Actually, `caret` and `tidymodels` are developed by the same author and tidymodels is the current focus of the author).

You can take a quick look of [this document](https://parsnip.tidymodels.org/) to get why `tidymodels` provides a consistent interface. To learn this package, [this series of articles](https://www.tidymodels.org/start/) provides a great introduction. There is also the free book [*Tidy Modeling with R*](https://www.tmwr.org/) that introduces how to do machine learning modeling in more details.

###  Plotly

The package [ggplot2](https://ggplot2.tidyverse.org/) plays a dominant role in data visualization world in R and it is indeed very beautifully designed. But I want to introduce another package called [plotly](https://plotly.com/r/) that might be very helpful in doing visualization in R.

First, if you like `ggplot2`, there is a function called `ggplotly` that generates the output of ggplot in a interactive form. Consider the following example.

```{r, message=FALSE}
library(ggplot2)
library(plotly)

fig <- ggplot(mpg, aes(displ, hwy, colour = class)) + 
  geom_point()
ggplotly(fig)
```

In addition to that, the syntax and default display of `plotly` is also quite good. For example, we can do the scatter plot above with following code in `plotly`.

```{r, message=FALSE}
plot_ly(data = mpg, x = ~displ, y = ~hwy, color = ~ class, type = 'scatter')
```

I think it is worthwhile to add `plotly` into your toolbox.

## Endnotes

Thanks for reading this article and I hope it brings you some new ideas. I will try to update this article as I learn new things in my data science journey.
